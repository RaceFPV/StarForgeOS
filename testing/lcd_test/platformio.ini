[env:jc2432w328c]
platform = espressif32
board = esp32dev
framework = arduino

; Board-specific configuration for JC2432W328C
; Chip: ESP32-D0WD-V3 (revision v3.1)
; Features: Wi-Fi, BT, Dual Core, 240MHz
board_build.mcu = esp32
board_build.f_cpu = 240000000L
board_build.f_flash = 40000000L
board_build.flash_mode = dio

; Serial monitor
monitor_speed = 115200
monitor_filters = esp32_exception_decoder

; Upload settings
upload_speed = 1500000
upload_port = /dev/ttyUSB0

; Libraries for display and touch
lib_deps = 
    bodmer/TFT_eSPI@^2.5.43
    lvgl/lvgl@^8.3.11
    Wire
    SPI

; Build flags
build_flags = 
    -DCORE_DEBUG_LEVEL=3
    -DBOARD_HAS_PSRAM=0
    ; LVGL configuration
    -DLV_CONF_PATH="${PROJECT_SRC_DIR}/lv_conf.h"
    -DLV_LVGL_H_INCLUDE_SIMPLE=1
    ; Display configuration - JC2432W328C (ST7789 2.4" 240x320 - factory uses this!)
    -DUSER_SETUP_LOADED=1
    -DST7789_DRIVER=1
    -DTFT_WIDTH=240
    -DTFT_HEIGHT=320
    -DTFT_INVERSION_OFF=1
    ; Display pins (HSPI)
    -DTFT_MISO=12
    -DTFT_MOSI=13
    -DTFT_SCLK=14
    -DTFT_CS=15
    -DTFT_DC=2
    -DTFT_RST=-1
    -DTFT_BL=21
    ; Touch - CST820 capacitive touch (I2C)
    -DTOUCH_SDA=4
    -DTOUCH_SCL=5
    -DTOUCH_INT=36
    -DTOUCH_RST=-1
    ; Font loading
    -DLOAD_GLCD=1
    -DLOAD_FONT2=1
    -DLOAD_FONT4=1
    -DLOAD_FONT6=1
    -DLOAD_FONT7=1
    -DLOAD_FONT8=1
    -DLOAD_GFXFF=1
    -DSMOOTH_FONT=1
    ; SPI frequencies
    -DSPI_FREQUENCY=55000000
    -DSPI_READ_FREQUENCY=20000000

